"use strict";(self.webpackChunkicontext_task=self.webpackChunkicontext_task||[]).push([[491],{2491:(k,f,i)=>{i.r(f),i.d(f,{MainModule:()=>F});var c=i(6895),t=i(1571);let u=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],decls:4,vars:0,consts:[[1,"main"],[1,"main-wrapper"],[1,"title"]],template:function(e,a){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"h1",2),t._uU(3,"Home"),t.qZA()()())}}),r})(),d=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-inventory"]],decls:4,vars:0,consts:[[1,"main"],[1,"main-wrapper"],[1,"title"]],template:function(e,a){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"h1",2),t._uU(3,"Inventory"),t.qZA()()())}}),r})(),x=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-reports"]],decls:4,vars:0,consts:[[1,"main"],[1,"main-wrapper"],[1,"title"]],template:function(e,a){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"h1",2),t._uU(3,"Reports"),t.qZA()()())}}),r})(),C=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-billing"]],decls:4,vars:0,consts:[[1,"main"],[1,"main-wrapper"],[1,"title"]],template:function(e,a){1&e&&(t.TgZ(0,"main",0)(1,"div",1)(2,"h1",2),t._uU(3,"Billing"),t.qZA()()())}}),r})();var n=i(433),Z=i(7607),N=i(4617),v=i(7185),g=i(3162),m=i(4196),h=i(4144);function b(r,o){1&r&&t._UZ(0,"mat-progress-bar",7)}function P(r,o){if(1&r&&(t.TgZ(0,"p",12)(1,"span",11),t._uU(2," link "),t.qZA(),t.TgZ(3,"a",15),t._uU(4),t.qZA()()),2&r){const e=t.oxw(2);t.xp6(3),t.s9C("href",e.localStorage.getUrl(),t.LSH),t.xp6(1),t.Oqu(e.localStorage.getUrl())}}function T(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",8)(1,"div",9)(2,"h2"),t._uU(3),t.ALo(4,"titlecase"),t.qZA(),t.TgZ(5,"button",10),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.editMode=!0)}),t.TgZ(6,"span",11),t._uU(7," edit "),t.qZA()()(),t.TgZ(8,"p",12)(9,"span",11),t._uU(10," person_outline "),t.qZA(),t.TgZ(11,"span"),t._uU(12),t.ALo(13,"titlecase"),t.qZA()(),t.TgZ(14,"p",12)(15,"span",11),t._uU(16," mail_outline "),t.qZA(),t.TgZ(17,"a",13),t._uU(18),t.qZA()(),t.YNc(19,P,5,2,"p",14),t.TgZ(20,"p",12)(21,"span",11),t._uU(22," call "),t.qZA(),t.TgZ(23,"a",13),t._uU(24),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,7,e.localStorage.getFirstName()+" "+e.localStorage.getLastName())," "),t.xp6(9),t.Oqu(t.lcZ(13,9,e.localStorage.getRole())),t.xp6(5),t.MGl("href","mailto:",e.localStorage.getEmail(),"",t.LSH),t.xp6(1),t.Oqu(e.localStorage.getEmail()),t.xp6(1),t.Q6J("ngIf",e.localStorage.getUrl()),t.xp6(4),t.MGl("href","tel:+7",e.localStorage.getPhoneNumber(),"",t.LSH),t.xp6(1),t.hij("+7",e.localStorage.getPhoneNumber(),"")}}function M(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" First name length must be no more than ",null==e.firstName.errors?null:e.firstName.errors.maxlength.requiredLength," characters ")}}function U(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," First name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function A(r,o){if(1&r&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" Last name length must be no more than ",null==e.lastName.errors?null:e.lastName.errors.maxlength.requiredLength," characters ")}}function S(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Last name is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function q(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid phone number "),t.qZA())}function I(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Phone number is "),t.TgZ(2,"strong"),t._uU(3,"required"),t.qZA()())}function w(r,o){1&r&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid URL "),t.qZA())}const O=function(){return{bright:!0}};function y(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"form",16),t.NdJ("ngSubmit",function(){t.CHM(e);const l=t.oxw();return t.KtG([l.save()])}),t.TgZ(1,"mat-form-field",17)(2,"mat-label",18),t._uU(3,"Email"),t.qZA(),t._UZ(4,"input",19),t.qZA(),t.TgZ(5,"mat-form-field",17)(6,"mat-label"),t._uU(7,"First Name"),t.qZA(),t._UZ(8,"input",20),t.YNc(9,M,2,1,"mat-error",21),t.YNc(10,U,4,0,"mat-error",21),t.qZA(),t.TgZ(11,"mat-form-field",17)(12,"mat-label"),t._uU(13,"Last Name"),t.qZA(),t._UZ(14,"input",20),t.YNc(15,A,2,1,"mat-error",21),t.YNc(16,S,4,0,"mat-error",21),t.qZA(),t.TgZ(17,"mat-form-field",17)(18,"mat-label"),t._uU(19,"Phone number"),t.qZA(),t.TgZ(20,"span",22),t._uU(21,"+7 \xa0"),t.qZA(),t._UZ(22,"input",23),t.YNc(23,q,2,0,"mat-error",21),t.YNc(24,I,4,0,"mat-error",21),t.qZA(),t.TgZ(25,"mat-form-field",17)(26,"mat-label"),t._uU(27,"WebSite URL"),t.qZA(),t._UZ(28,"input",24),t.YNc(29,w,2,0,"mat-error",21),t.qZA(),t.TgZ(30,"div",25)(31,"button",26),t._uU(32," Save "),t.qZA(),t.TgZ(33,"button",27),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return t.KtG(l.cancel())}),t._uU(34," Cancel "),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(2),t.Q6J("ngClass",t.DdM(18,O)),t.xp6(2),t.Q6J("formControl",e.email),t.xp6(4),t.Q6J("formControl",e.firstName)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.firstName.hasError("maxlength")&&!e.firstName.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.firstName.hasError("required")),t.xp6(4),t.Q6J("formControl",e.lastName)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.lastName.hasError("maxlength")&&!e.lastName.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.lastName.hasError("required")),t.xp6(6),t.Q6J("formControl",e.phoneNumber)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",(e.phoneNumber.hasError("maxlength")||e.phoneNumber.hasError("minlength")||e.phoneNumber.hasError("pattern"))&&!e.phoneNumber.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.phoneNumber.hasError("required")),t.xp6(4),t.Q6J("formControl",e.url)("errorStateMatcher",e.matcher),t.xp6(1),t.Q6J("ngIf",e.url.hasError("pattern")),t.xp6(2),t.Q6J("disabled",e.firstName.invalid||e.lastName.invalid||e.phoneNumber.invalid)}}const L=function(r){return{visible:r}};let E=(()=>{class r{constructor(e,a){this.localStorage=e,this.toastr=a,this.editMode=!1,this.loading=!1,this.email=new n.NI(this.localStorage.getEmail()),this.firstName=new n.NI(this.localStorage.getFirstName(),[n.kI.required,n.kI.maxLength(255)]),this.lastName=new n.NI(this.localStorage.getLastName(),[n.kI.required,n.kI.maxLength(255)]),this.phoneNumber=new n.NI(this.localStorage.getPhoneNumber(),[n.kI.required,n.kI.maxLength(10),n.kI.minLength(10),n.kI.pattern("^[0-9]*$")]),this.url=new n.NI(this.localStorage.getUrl(),[n.kI.pattern(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/)]),this.matcher=new Z.n}save(){this.loading=!0,setTimeout(()=>{this.loading=!1,this.firstName.value.length<2&&this.lastName.value.length<2?(this.showFirstNameError(),this.showLastNameError()):this.firstName.value.length<2?this.showFirstNameError():this.lastName.value.length<2?this.showLastNameError():(this.updateProfile(),this.showSuccess())},2e3)}updateProfile(){const a="https://",p=this.url.value?.slice(0,8).toLowerCase();this.editMode=!1,!this.url.value||p.toLowerCase().includes("http://")||p.toLowerCase().includes(a)||p.toLowerCase().includes("ftp://")?this.url.setValue(this.url.value):this.url.setValue(a+this.url.value),this.localStorage.setUserData(this.email.value,this.firstName.value,this.lastName.value,this.phoneNumber.value,this.url.value)}cancel(){this.editMode=!1,this.firstName.setValue(this.localStorage.getFirstName()),this.lastName.setValue(this.localStorage.getLastName()),this.phoneNumber.setValue(this.localStorage.getPhoneNumber()),this.url.setValue(this.localStorage.getUrl())}showSuccess(){this.toastr.success("Profile updated","Success!")}showFirstNameError(){this.toastr.error("First name is too short","Error!")}showLastNameError(){this.toastr.error("Last name is too short","Error!")}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(N.n),t.Y36(v._W))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-profile"]],decls:8,vars:6,consts:[["mode","indeterminate","class","progress-bar",4,"ngIf"],[1,"curtain",3,"ngClass"],[1,"main"],[1,"main-wrapper"],[1,"title"],["class","profile-info",4,"ngIf"],["class","profile-form",3,"ngSubmit",4,"ngIf"],["mode","indeterminate",1,"progress-bar"],[1,"profile-info"],[1,"profile-info__item","profile-info__name"],[1,"edit-button",3,"click"],[1,"material-icons"],[1,"profile-info__item"],[1,"link",3,"href"],["class","profile-info__item",4,"ngIf"],["target","_blank",1,"link",3,"href"],[1,"profile-form",3,"ngSubmit"],[1,"profile-form__control"],[3,"ngClass"],["type","email","matInput","","readonly","true",3,"formControl"],["type","text","matInput","",3,"formControl","errorStateMatcher"],[4,"ngIf"],["matPrefix",""],["type","tel","matInput","",3,"formControl","errorStateMatcher"],["type","url","matInput","",3,"formControl","errorStateMatcher"],[1,"profile-form__buttons"],["type","submit",1,"profile-form__button","save-button","button",3,"disabled"],[1,"profile-form__button","cancel-button","button",3,"click"]],template:function(e,a){1&e&&(t.YNc(0,b,1,0,"mat-progress-bar",0),t._UZ(1,"div",1),t.TgZ(2,"main",2)(3,"div",3)(4,"h1",4),t._uU(5,"Profile"),t.qZA(),t.YNc(6,T,25,11,"div",5),t.YNc(7,y,35,19,"form",6),t.qZA()()),2&e&&(t.Q6J("ngIf",a.loading),t.xp6(1),t.Q6J("ngClass",t.VKq(4,L,a.loading)),t.xp6(5),t.Q6J("ngIf",!a.editMode),t.xp6(1),t.Q6J("ngIf",a.editMode))},dependencies:[c.mk,c.O5,g.pW,m.TO,m.KE,m.hX,m.qo,h.Nt,n._Y,n.Fj,n.JJ,n.JL,n.F,n.oH,c.rS],styles:[".main-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.main-wrapper[_ngcontent-%COMP%]   .profile-info__item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;margin:0}.main-wrapper[_ngcontent-%COMP%]   .profile-info__name[_ngcontent-%COMP%]{margin-bottom:5px;word-break:break-all}.main-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{height:24px;background-color:transparent;color:#8676b6;border:none;border-bottom:1px solid transparent;cursor:pointer;transition:.3s ease-in-out}.main-wrapper[_ngcontent-%COMP%]   .profile-info[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{color:#73659c;border-bottom:1px solid #73659c}.main-wrapper[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;gap:10px}.main-wrapper[_ngcontent-%COMP%]   .profile-form__buttons[_ngcontent-%COMP%]{width:100%;display:flex;gap:10px}.main-wrapper[_ngcontent-%COMP%]   .profile-form__button[_ngcontent-%COMP%]{width:25%}.main-wrapper[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{background-color:#f44336;text-align:center}.main-wrapper[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]:hover{background-color:#e13d32}"]}),r})();var _=i(5896),s=i(7574);const J=[{path:"",component:u,canActivate:[s.a]},{path:"home",component:u,canActivate:[s.a]},{path:"inventory",component:d,canActivate:[s.a]},{path:"reports",component:x,canActivate:[s.a]},{path:"billing",component:C,canActivate:[s.a]},{path:"profile",component:E,canActivate:[s.a]}];let F=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[c.ez,_.Bz.forChild(J),g.Cv,m.lN,h.c,n.u5,n.UX,_.Bz]}),r})()}}]);